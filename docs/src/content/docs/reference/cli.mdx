---
title: CLI Reference
description: Complete reference for the oore command-line interface
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

The `oore` CLI is a client for interacting with the Oore server.

## Installation

```bash
cargo build --release -p oore-cli
sudo cp ./target/release/oore /usr/local/bin/
```

## Global Options

| Option | Environment | Default | Description |
|--------|-------------|---------|-------------|
| `--server <URL>` | - | `http://localhost:8080` | Server URL |
| `--admin-token <TOKEN>` | `OORE_ADMIN_TOKEN` | - | Admin token |

---

## oore health

Check if the server is running.

```bash
oore health
# Server status: ok
```

## oore version

Show version information.

```bash
oore version
# CLI version: 0.1.0
# Server version: 0.1.0 (oored)
```

## oore setup

Show setup status.

```bash
oore setup --admin-token YOUR_TOKEN
```

---

## oore repo

Repository management commands.

### oore repo list

```bash
oore repo list
```

```
ID                           PROVIDER   NAME                 ACTIVE
--------------------------------------------------------------------
01HNJX5Q9T3WP2V6Z8K4M7YRBF   github     my-flutter-app       yes
01HNJX7K2N4RM8P3Y5W6T9HSVE   gitlab     backend-api          yes
```

### oore repo add

```bash
oore repo add --provider <PROVIDER> --owner <OWNER> --repo <REPO> [OPTIONS]
```

**Required:**

| Argument | Description |
|----------|-------------|
| `--provider` | `github` or `gitlab` |
| `--owner` | Repository owner |
| `--repo` | Repository name |

**Optional:**

| Option | Default | Description |
|--------|---------|-------------|
| `--name` | `owner/repo` | Display name |
| `--branch` | `main` | Default branch |
| `--webhook-secret` | - | GitLab webhook secret |
| `--github-repo-id` | - | GitHub repository ID |
| `--github-installation-id` | - | GitHub App installation ID |
| `--gitlab-project-id` | - | GitLab project ID |

<Tabs>
  <TabItem label="GitHub">
    ```bash
    oore repo add --provider github --owner myorg --repo my-app
    ```
  </TabItem>
  <TabItem label="GitLab">
    ```bash
    oore repo add --provider gitlab --owner myuser --repo backend \
      --webhook-secret "secret" --gitlab-project-id 12345678
    ```
  </TabItem>
</Tabs>

### oore repo show

```bash
oore repo show <REPO_ID>
```

### oore repo remove

```bash
oore repo remove <REPO_ID>
```

:::note
This only removes from Oore, not from GitHub/GitLab.
:::

### oore repo webhook-url

```bash
oore repo webhook-url <REPO_ID>
```

---

## oore build

Build management commands.

### oore build list

```bash
oore build list [--repo <REPO_ID>]
```

```
ID                           STATUS    TRIGGER   BRANCH   COMMIT
------------------------------------------------------------------
01HNJX9P2K4TM8Q6V5W3Y7ZRAD   running   webhook   main     abc1234
01HNJXA3N7RP5M2K8T4W6Y9HBC   success   manual    develop  def5678
```

### oore build show

```bash
oore build show <BUILD_ID>
```

### oore build trigger

```bash
oore build trigger <REPO_ID> [--branch <BRANCH>] [--commit <SHA>]
```

```bash
# Build default branch
oore build trigger 01HNJX5Q9T3WP2V6Z8K4M7YRBF

# Build specific branch
oore build trigger 01HNJX5Q9T3WP2V6Z8K4M7YRBF --branch feature/login
```

### oore build cancel

```bash
oore build cancel <BUILD_ID>
```

---

## oore webhook

### oore webhook list

```bash
oore webhook list
```

### oore webhook show

```bash
oore webhook show <EVENT_ID>
```

---

## oore github

GitHub App management commands. GitHub integration supports only github.com (single instance).

### oore github setup

Initiate GitHub App setup via manifest flow. Opens a browser to create the GitHub App, then polls for completion.

```bash
oore github setup --admin-token YOUR_TOKEN
```

### oore github callback

Complete GitHub App setup with the callback URL from GitHub (only needed if browser flow fails).

```bash
oore github callback "<REDIRECT_URL>" --admin-token YOUR_TOKEN
```

### oore github status

Show current GitHub App configuration.

```bash
oore github status --admin-token YOUR_TOKEN
```

### oore github installations

List GitHub App installations.

```bash
oore github installations --admin-token YOUR_TOKEN
```

### oore github sync

Sync installations and repositories from GitHub.

```bash
oore github sync --admin-token YOUR_TOKEN
```

### oore github remove

Remove GitHub App credentials.

```bash
oore github remove --force --admin-token YOUR_TOKEN
```

---

## oore gitlab

GitLab OAuth management commands. GitLab supports multiple instances (gitlab.com + self-hosted).

:::tip[Instance Auto-Detection]
When only one GitLab instance is configured, `--instance` is optional for all commands.
The CLI will auto-detect it. When multiple instances are configured, you must specify `--instance`.
:::

### oore gitlab setup

Run OAuth setup flow. Opens a browser for authorization and polls for completion.

```bash
# Auto-detect instance (or default to gitlab.com if none configured)
oore gitlab setup

# Specify instance explicitly
oore gitlab setup --instance https://gitlab.mycompany.com
```

| Option | Description |
|--------|-------------|
| `--instance` | GitLab instance URL (auto-detected if only one configured) |

### oore gitlab status

Show current GitLab credentials for all configured instances.

```bash
oore gitlab status
```

### oore gitlab projects

List accessible GitLab projects.

```bash
# Auto-detect instance
oore gitlab projects

# With pagination
oore gitlab projects --page 2 --per-page 50

# Specify instance
oore gitlab projects --instance https://gitlab.mycompany.com
```

| Option | Default | Description |
|--------|---------|-------------|
| `--instance` | auto-detected | GitLab instance URL |
| `--page` | `1` | Page number |
| `--per-page` | `20` | Results per page |

### oore gitlab enable

Enable CI for a GitLab project. Creates repository and webhook automatically.

```bash
# Auto-detect instance
oore gitlab enable <PROJECT_ID>

# Specify instance
oore gitlab enable 12345678 --instance https://gitlab.mycompany.com
```

### oore gitlab disable

Disable CI for a GitLab project. Removes webhook from GitLab.

```bash
# Auto-detect instance
oore gitlab disable <PROJECT_ID>

# Specify instance
oore gitlab disable 12345678 --instance https://gitlab.mycompany.com
```

### oore gitlab refresh

Refresh OAuth token for a GitLab instance.

```bash
# Auto-detect instance
oore gitlab refresh

# Specify instance
oore gitlab refresh --instance https://gitlab.mycompany.com
```

### oore gitlab register

Register OAuth app for self-hosted GitLab. Required before running `setup` for self-hosted instances.

```bash
oore gitlab register \
  --instance https://gitlab.mycompany.com \
  --client-id YOUR_CLIENT_ID \
  --client-secret YOUR_CLIENT_SECRET
```

| Option | Required | Description |
|--------|----------|-------------|
| `--instance` | Yes | GitLab instance URL |
| `--client-id` | Yes | OAuth application client ID |
| `--client-secret` | Yes | OAuth application client secret |

### oore gitlab remove

Remove GitLab credentials.

```bash
oore gitlab remove <CREDENTIALS_ID> --force
```

---

## Complete Workflow

### GitHub

```bash
# 1. Setup GitHub App (opens browser)
oore github setup

# 2. Install the app on your repos (in browser)
# Repositories sync automatically via webhooks

# 3. Check status
oore github status
oore repo list
```

### GitLab

```bash
# 1. Register OAuth app (self-hosted only)
oore gitlab register \
  --instance https://gitlab.mycompany.com \
  --client-id YOUR_CLIENT_ID \
  --client-secret YOUR_CLIENT_SECRET

# 2. Setup OAuth (opens browser)
oore gitlab setup

# 3. List and enable projects
oore gitlab projects
oore gitlab enable 12345678

# 4. Check status
oore gitlab status
oore repo list
```

## Custom Server

```bash
oore --server https://ci.example.com repo list

# Or with environment variable
export OORE_ADMIN_TOKEN="your-token"
oore --server https://ci.example.com setup
```

---
title: Configuration
description: Environment variables and configuration options for Oore
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

Oore is configured through environment variables. These can be set in a `.env` file or passed directly to the process.

## Environment File Locations

| Context | Location |
|---------|----------|
| Development | `.env` in working directory |
| Installed Service | `/etc/oore/oore.env` |
| Custom | `--env-file` flag or `OORE_ENV_FILE` variable |

## Configuration Variables

### Database

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `DATABASE_URL` | Yes | - | SQLite connection string |

<Tabs>
  <TabItem label="Development">
    ```bash
    DATABASE_URL=sqlite:oore.db
    ```
  </TabItem>
  <TabItem label="Production">
    ```bash
    DATABASE_URL=sqlite:/var/lib/oore/oore.db
    ```
  </TabItem>
</Tabs>

### Server

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `HOST` | No | `0.0.0.0` | IP address to bind to |
| `PORT` | No | `8080` | Port to listen on |
| `BASE_URL` | No | - | Public URL for webhook callbacks |

```bash
HOST=127.0.0.1
PORT=8080
BASE_URL=https://ci.example.com
```

### Security

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `OORE_ADMIN_TOKEN` | No | - | Token for admin API authentication |
| `ENCRYPTION_KEY` | No | - | 32-byte hex key for encrypting credentials |

:::tip
Generate an encryption key with:
```bash
openssl rand -hex 32
```
:::

### CORS

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `DASHBOARD_ORIGIN` | No | - | Allowed origin for CORS (web dashboard) |

### Logging

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `RUST_LOG` | No | `info` | Log level filter |

**Log levels:** `error`, `warn`, `info`, `debug`, `trace`

<Tabs>
  <TabItem label="Production">
    ```bash
    RUST_LOG=oore_server=info,oore_core=info
    ```
  </TabItem>
  <TabItem label="Debug">
    ```bash
    RUST_LOG=oore_server=debug,oore_core=debug
    ```
  </TabItem>
</Tabs>

### GitHub Integration

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `GITHUB_APP_ID` | No | - | GitHub App ID |
| `GITHUB_APP_PRIVATE_KEY` | No | - | GitHub App private key (PEM format) |
| `GITHUB_WEBHOOK_SECRET` | No | - | Shared secret for webhook verification |

See [GitHub Integration](/integrations/github/) for complete setup.

### GitLab Integration

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `GITLAB_TOKEN` | No | - | GitLab personal access token |

GitLab webhook tokens are stored per-repository in the database.

## Example Configurations

### Minimal Development

```bash title=".env"
DATABASE_URL=sqlite:oore.db
RUST_LOG=debug
```

### Production

```bash title="/etc/oore/oore.env"
DATABASE_URL=sqlite:/var/lib/oore/oore.db
BASE_URL=https://ci.example.com
OORE_ADMIN_TOKEN=secure-random-token-32-chars-min
ENCRYPTION_KEY=64-hex-characters-here
DASHBOARD_ORIGIN=https://dashboard.example.com
RUST_LOG=oore_server=info,oore_core=info
```

### With GitHub App

```bash title="/etc/oore/oore.env"
DATABASE_URL=sqlite:/var/lib/oore/oore.db
BASE_URL=https://ci.example.com
OORE_ADMIN_TOKEN=secure-random-token-here
ENCRYPTION_KEY=64-hex-characters-here

GITHUB_APP_ID=123456
GITHUB_WEBHOOK_SECRET=webhook-secret-from-github
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
...your private key...
-----END RSA PRIVATE KEY-----"

RUST_LOG=oore_server=info
```

## File Permissions

:::caution
The environment file contains secrets and should only be readable by root.
:::

```bash
sudo chmod 600 /etc/oore/oore.env
sudo chown root:wheel /etc/oore/oore.env  # macOS
sudo chown root:root /etc/oore/oore.env   # Linux
```

This is done automatically by `oored install`.

## Applying Changes

<Tabs>
  <TabItem label="Installed Service">
    ```bash
    sudo oored restart
    ```
  </TabItem>
  <TabItem label="Development">
    Restart the server (Ctrl+C and run again)
  </TabItem>
</Tabs>
